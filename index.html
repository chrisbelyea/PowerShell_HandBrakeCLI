<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PowerShell_HandBrakeCLI</title>
    <link rel="stylesheet" href="css/foundation.min.css" />
	<style>
		video {
			width: 100%;
		}
	</style>	
  </head>
  <body>
    
    <div class="row">
      <div class="large-12 columns">
        <h1>PowerShell_HandBrakeCLI</h1>
      </div>
    </div>
    
    <div class="row">
		<div class="small-12 columns">
			<!-- content goes here -->
		</div>
	</div>
	
	<div class="row">
		<div class="small-12 medium-6 columns">
			<video id="videoarea" controls="controls" poster="" src="/video/demo-1000.mp4"></video>
			<div id="description"></div>
		</div>
		<div class="small-12 medium-6 columns">
			<div id="playlist"></div>
		</div>
    </div>
	
	<script>
		var movieList = [
			{
				"src" : "demo-1000.mp4",
				"title" : "Title 01",
				"description" : "These are the voyages of the Starship Enterprise. Its continuing mission, to explore strange new worlds, to seek out new life and new civilizations, to boldly go where no one has gone before."
			},
			{
				"src" : "demo-1001.mp4",
				"title" : "Title 02",
				"description" : "We need to neutralize the homing signal. Each unit has total environmental control, gravity, temperature, atmosphere, light, in a protective field."
			},
			{
				"src" : "demo-1002.mp4",
				"title" : "Title 03",
				"description" : "Sensors show energy readings in your area. We had a forced chamber explosion in the resonator coil. Field strength has increased by 3,000 percent."
			},
			{
				"src" : "demo-1003.mp4",
				"title" : "Title 04",
				"description" : "Sensors indicate human life forms 30 meters below the planet's surface. Stellar flares are increasing in magnitude and frequency."
			},
			{
				"src" : "demo-1004.mp4",
				"title" : "Title 05",
				"description" : "Resistance is futile."
			}
		];
		
		var count = 0;	
		var v = document.getElementsByTagName("video")[0];
		var d = document.getElementById("description");	
		var t = document.getElementById("playlist");	
		v.addEventListener("ended", function() {nextVideo(count)}, true);	
			
		// Autoplay remaining videos
		function nextVideo(i){	
			if (i === movieList.length) {
				return
				};
			v.setAttribute('src','/video/' + movieList[i].src);
			updateDescription(i);
			if (v.getAttribute('autoplay')!=="" && i > 0) {			
				v.setAttribute('autoplay');				
				};
			count = i + 1;						
		}
		
		// Update description
		function updateDescription(i){
			d.innerHTML = movieList[i].description;
		}
		
		
		// Play selected video
		function playSelected(i){
			nextVideo(i);
		}
		
		function createTrackList(){
			var listing = "";
			for (i = 0; i < movieList.length; i ++){
				listing += ("<a href='#' class='track' onclick='playSelected(" + i + ")'>" + movieList[i].title + "</a><br />");
			}
			t.innerHTML = listing;
			
		}
		
		// Load first video and description
		nextVideo(0);
		
		// Create track list
		createTrackList();	
	</script>
	</body>
</html>
